<p-organizationChart
  [value]="(employees$ | async) || []"
>
  <ng-template let-node pTemplate="person">
    <div class="employee-node">
      <div class="node-header">
        <span> <strong>{{ node.data.name }}</strong></span>
        <cds-icon class="settings-icon" shape="cog" (click)="openContextMenu($event, node)"></cds-icon>
      </div>
      <div class="node-body">
        <div class="user-icon-container">
          <cds-icon class="user-icon" shape="user" solid="true"></cds-icon>
        </div>
        <div class="desc-container">
          <div class="designation">{{ node.data.designation }}</div>
          <div class="email"><strong>Email:</strong> {{ node.data.email }}</div>
          <div class="phone"><strong>Phone:</strong> {{ node.data.phone }}</div>
        </div>
      </div>
    </div>
  </ng-template>
</p-organizationChart>

<!-- PrimeNG Context Menu -->
<p-contextMenu #contextMenu [model]="contextMenuItems" [baseZIndex]="1000"></p-contextMenu>
